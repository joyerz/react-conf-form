!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("antd"),require("@ant-design/icons"),require("moment"));else if("function"==typeof define&&define.amd)define(["react","antd","@ant-design/icons","moment"],t);else{var n="object"==typeof exports?t(require("react"),require("antd"),require("@ant-design/icons"),require("moment")):t(e.react,e.antd,e["@ant-design/icons"],e.moment);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(16),o=n(17),a=n(9),i=n(18);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=n},function(e,t,n){var r=n(19);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=r},function(e,t,n){e.exports=n(20)},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(8);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(13),o=n(14),a=n(9),i=n(15);e.exports=function(e){return r(e)||o(e)||a(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function u(e){n(i,o,a,u,c,"next",e)}function c(e){n(i,o,a,u,c,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(8);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new w(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var u=b(i,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function f(){}function d(){}function p(){}var v={};v[o]=function(){return this};var m=Object.getPrototypeOf,h=m&&m(m(_([])));h&&h!==t&&n.call(h,o)&&(v=h);var g=p.prototype=f.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,u){var c=l(e[o],e,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=u(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new x(c(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),u(g,i,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"extendFields",(function(){return H})),n.d(t,"extendRules",(function(){return Z})),n.d(t,"generateFileObjectByUrl",(function(){return G})),n.d(t,"Form",(function(){return ae}));var r=n(2),o=n.n(r),a=n(10),i=n.n(a),u=n(3),c=n.n(u),l=n(0),s=n.n(l),f=n(1),d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=[],r=0;r<e;r++){var o=Math.round(Math.random()*t.length);n.push(t[o])}return n.join("")},p=function(e){return-1===[null,void 0,""].indexOf(e)&&(!Array.isArray(e)||0!==e.length)};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e.find((function(e){return e[t]===n}));return r||null}var m=function(e){var t="form-label-width-".concat(e),n=document.getElementById(t);return n&&document.head.removeChild(n),t},h=n(5),g=n.n(h);var y=f.Input.Search;var x=n(6),b=n.n(x),C=function(e){return p(e)?b()(e).valueOf():null},E=function(e){return p(e)?b()(e):null},w=function(e){var t=[null,null];return Array.isArray(e)&&e.forEach((function(e,n){t[n]=C(e)})),t},_=function(e){var t=[null,null];return e&&Array.isArray(e)&&e.forEach((function(e,n){t[n]=e?b()(e):null})),t};var O,P=n(11),S=n.n(P),k=n(7),F=n.n(k),L=n(4),j=new Uint8Array(16);function A(){if(!O&&!(O="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O(j)}var M=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var N=function(e){return"string"==typeof e&&M.test(e)},z=[],I=0;I<256;++I)z.push((I+256).toString(16).substr(1));var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(z[e[t+0]]+z[e[t+1]]+z[e[t+2]]+z[e[t+3]]+"-"+z[e[t+4]]+z[e[t+5]]+"-"+z[e[t+6]]+z[e[t+7]]+"-"+z[e[t+8]]+z[e[t+9]]+"-"+z[e[t+10]]+z[e[t+11]]+z[e[t+12]]+z[e[t+13]]+z[e[t+14]]+z[e[t+15]]).toLowerCase();if(!N(n))throw TypeError("Stringified UUID is invalid");return n};var T=function(e,t,n){var r=(e=e||{}).random||(e.rng||A)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return R(r)},G=function(e){return{uid:T(),name:e.replace(/(.*\/)*([^.]+)/i,"$2"),status:"done",url:e}},q=(n(21),l.useState);function V(e){var t=e.showList,n=void 0===t||t,r=e.url,o=void 0===r?[]:r,a=e.style,i=void 0===a?{}:a,u=e.current,s=void 0===u?"":u,d=e.onHide,p=[];o&&(p="string"==typeof o?[o]:o),p=p.filter((function(e){return e}));var v=q(!1),m=c()(v,2),h=m[0],g=m[1],y=q(s),x=c()(y,2),b=x[0],C=x[1],E=q(0),w=c()(E,2),_=w[0],O=w[1],P=q(!0),S=c()(P,2),k=S[0],F=S[1],j=q(!1),A=c()(j,2),M=A[0],N=A[1],z=function(){d&&d(),g(!1)},I=function(e){g(!0),F(!0),C(e)};return n||M||(I(s),N(!0)),l.createElement(l.Fragment,null,n&&l.createElement("div",{className:"react-conf-form-pic-row"},p.map((function(e,t){var n="".concat(e,"_").concat(t);return l.createElement("div",{role:"link",tabIndex:t,key:n,className:"react-conf-form-pic-box",onClick:function(){return I(e)},onKeyDown:function(){return I(e)},style:i},l.createElement("img",{src:e,alt:""}))}))),h&&l.createElement("div",{className:"react-conf-form-pic-viewer"},l.createElement("div",{className:"react-conf-form-pic-spin react-conf-form-pic-white-spin"},l.createElement(f.Spin,{spinning:k,tip:"loading...",size:"large"})),l.createElement("div",{className:"react-conf-form-pic-container",onClick:z}),l.createElement("div",{className:"react-conf-form-pic-buttons"},l.createElement("div",{className:"react-conf-form-pic-icon",onClick:z},l.createElement(L.CloseOutlined,null)),p.length>1&&l.createElement("div",{className:"react-conf-form-pic-icon",onClick:function(){F(!0);var e=p.indexOf(b);e=(e-=1)<0?p.length-1:e,I(p[e])}},l.createElement(L.LeftOutlined,null)),p.length>1&&l.createElement("div",{className:"react-conf-form-pic-icon",onClick:function(){F(!0);var e=p.indexOf(b);e=(e+=1)>=p.length?0:e,I(p[e])}},l.createElement(L.RightOutlined,null)),l.createElement("div",{className:"react-conf-form-pic-icon",onClick:function(){O(_+1)}},l.createElement(L.RedoOutlined,null)),l.createElement("div",{className:"react-conf-form-pic-icon",onClick:function(){O(_-1)}},l.createElement(L.UndoOutlined,null))),l.createElement("img",{alt:"previmg",src:b,onLoad:function(){F(!1)},style:{transform:"translate(-50%, -50%) rotate(".concat(90*_,"deg)"),opacity:k?0:1},className:"react-conf-form-pic-img-container"})))}var $=s.a.useState,U=s.a.useEffect;var D={input:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Input,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.value;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},value:r}))},search:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(y,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.value;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},value:r}))},textarea:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Input.TextArea,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.value;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},value:r}))},password:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Input.Password,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.value;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},value:r}))},number:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.InputNumber,o()({},a,{onChange:function(e){a.onChange&&a.onChange(e),t&&t(n,e,r)},value:r}))},select:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Select,o()({},a,{onChange:function(e){a.onChange&&a.onChange(e),t&&t(n,e,r)},value:r}))},switch:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Switch,o()({},a,{onChange:function(){var e=arguments.length<=0?void 0:arguments[0];a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,!!r)},checked:r}))},autoComplete:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return null!=a&&a.filterOption||(a.filterOption=function(e,t){return e&&-1!==t.value.indexOf(e)}),s.a.createElement(f.AutoComplete,o()({},a,{onChange:function(){var e=arguments.length<=0?void 0:arguments[0];a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,r)}}))},checkbox:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Checkbox,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.checked;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},checked:r}),a.label)},checkboxGroup:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Checkbox.Group,o()({},a,{onChange:function(){var e=arguments.length<=0?void 0:arguments[0];a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,r)},value:r}))},datePicker:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.DatePicker,o()({},a,{onChange:function(){var e=C(arguments.length<=0?void 0:arguments[0]);a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,r)},value:E(r)}))},rangePicker:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.DatePicker.RangePicker,o()({},a,{onChange:function(){var e=w(arguments.length<=0?void 0:arguments[0]);a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,r)},value:_(r)}))},timePicker:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.TimePicker,o()({},a,{onChange:function(){var e=C(arguments.length<=0?void 0:arguments[0]);a.onChange&&a.onChange.apply(a,arguments),t&&t(n,e,r)},value:E(r)}))},radio:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Radio,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.checked;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},checked:r}),a.label)},radioGroup:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Radio.Group,o()({},a,{onChange:function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];var u=o[0].target.value;a.onChange&&a.onChange.apply(a,o),t&&t(n,u,r)},value:r}))},upload:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps,i=e.customProps,u=i.maxSize,l=void 0===u?2:u,d=i.maxLength,p=void 0===d?1:d,v=i.editMode,m=void 0!==v&&v,h=i.disabled,g=void 0!==h&&h,y=$([]),x=c()(y,2),b=x[0],C=x[1],E=$({visible:!1,url:""}),w=c()(E,2),_=w[0],O=w[1],P=$([]),k=c()(P,2),j=k[0],A=k[1];U((function(){if(Array.isArray(r)){var e=[];r.forEach((function(t){"string"==typeof t?e.push(G(t)):e.push(t)})),C(e)}}),[r]);var M=0,N=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=n+10*Math.random();t({percent:r=r>99?99:r}),M=setTimeout((function(){return e(t,r)}),300)},z=function(){var e=S()(F.a.mark((function e(t){var n,r,o,i,u;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.customRequest){e.next=2;break}return e.abrupt("return");case 2:return n=t.file,r=t.onSuccess,o=t.onError,i=t.onProgress,N(i),e.prev=4,e.next=7,a.customRequest(n);case 7:u=e.sent,r({url:u}),clearTimeout(M),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),clearTimeout(M),f.message.error("上传失败",e.t0),o();case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),I=i.uploadButtonText,R=s.a.createElement("div",null,s.a.createElement(L.PlusOutlined,null),s.a.createElement("div",{style:{marginTop:8}},I)),T=!1;return b.length<p&&(T=!0),T||(T=1===b.length&&m),g&&(T=!1),s.a.createElement(s.a.Fragment,null,s.a.createElement(f.Upload,o()({},a,{customRequest:z,beforeUpload:function(e){return!(e.size/1024/1024>l)||(f.message.error("仅支持：JPEG/PNG/SVG/BVP 格式 2M以内"),f.Upload.LIST_IGNORE)},onChange:function(e){var o=e.fileList;o.forEach((function(e){var t,n;!e.url&&null!==(t=e.response)&&void 0!==t&&t.url&&(e.url=null===(n=e.response)||void 0===n?void 0:n.url)})),1===p&&m?o.splice(0,o.length-1):C(o),a.onChange&&a.onChange(e),t&&t(n,o,r)},onPreview:function(e){O({visible:!0,url:e.url});var t=b.filter((function(e){return"done"===e.status&&e.url})).map((function(e){return e.url}));A(t)},fileList:b}),T&&R),_.visible&&s.a.createElement(V,{url:j,showList:!1,onHide:function(){O({visible:!1,url:""})},current:_.url}))},cascader:function(e){var t=e.onFieldChange,n=e.name,r=e.value,a=e.fieldProps;return s.a.createElement(f.Cascader,o()({},a,{onChange:function(e){a.onChange&&a.onChange(e),t&&t(n,e,r)},value:r}))}};function B(e){var t=e.type,n=e.name,r=e.value,o=e.fieldProps,a=void 0===o?{}:o,i=e.customProps,u=e.onFieldChange,c=D[t];return s.a.createElement(c,{name:n,value:r,fieldProps:a,customProps:i,onFieldChange:u})}var H=function(e){e.forEach((function(e){if(Object.keys(D).find((function(t){return t===e.name})))throw new Error("组件".concat(e.name,"已存在，请重新定义"));D[e.name]=e.component}))},K=function(e){var t=e.item,n=e.span,r=e.isVertical,a=e.value,i=e.onFieldChange,u=e.onKeyPress,c=e.validate,l=t.label,d=t.type,p=g()(t,["label","type"]),m="function"==typeof l?l():l,h=r?{labelCol:{span:24},wrapperCol:{span:24}}:{};return s.a.createElement(f.Col,{span:n,onKeyPress:u},s.a.createElement(f.Form.Item,o()({label:m,key:t.name,required:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!v(e,"required",!0)}(t.rules),validateStatus:c&&!c.state?"error":"",help:null==c?void 0:c.message},h),"render"===d&&("function"==typeof p.render?p.render():p.render),"render"!==d&&s.a.createElement(B,o()({},p,{type:d,isVertical:r,onFieldChange:i,value:a}))))},J=n(12),W=n.n(J),Y=[{name:"required",validator:function(e){return p(e)},message:"必填"},{name:"minLength",validator:function(e,t){return!p(e)||e.length>=Number(t)},message:function(e){return"长度不小于".concat(e)}},{name:"maxLength",validator:function(e,t){return!p(e)||e.length<=Number(t)},message:function(e){return"长度不大于".concat(e)}},{name:"length",validator:function(e,t){return!p(e)||e.length===Number(t)},message:function(e){return"长度必须为".concat(e)}},{name:"min",validator:function(e,t){return!p(e)||parseFloat(e)>=t},message:function(e){return"必须大于或等于".concat(e)}},{name:"max",validator:function(e,t){return!p(e)||parseFloat(e)<=t},message:function(e){return"必须小于或等于".concat(e)}},{name:"more_than",validator:function(e,t){return!p(e)||parseFloat(e)>t},message:function(e){return"必须大于".concat(e)}},{name:"less_than",validator:function(e,t){return!p(e)||parseFloat(e)<t},message:function(e){return"必须小于".concat(e)}},{name:"mobile",validator:function(e){return!p(e)||/^1\d{10}/.test(e)},message:"请输入正确11位手机号"},{name:"number",validator:function(e){return!p(e)||/\d/.test(e)},message:"请输入正确11位手机号"},{name:"int",validator:function(e){return!p(e)||!/\D/.test(e)},message:"必须为整数"},{name:"positive_number",validator:function(e){return!p(e)||parseFloat(e)>0},message:"必须为正数"},{name:"telephone",validator:function(e){return!p(e)||/^0\d{2,3}-\d{7,8}$/.test(e)},message:"需符合（区号-电话号码）的格式"},{name:"email",validator:function(e){if(!p(e))return!0;return/[a-z0-9!#$%&'*+"=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+"=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},message:"请输入正确的邮箱"},{name:"email_suffix",validator:function(e){if(!p(e))return!0;return/[a-z0-9!#$%&'*+"=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+"=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},message:"请输入正确的邮箱"},{name:"password",validator:function(e){if(!p(e))return!0;/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d.*)(?=.*\W.*)[a-zA-Z0-9\S][^\u4e00-\u9fa5]{6,20}$/.test(e)},message:"由长度为6～16位的数字、大小字母以及符号组成"},{name:"id_card",validator:function(e){return!p(e)||/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},message:"身份证号码不符合"}],Z=function(e){e.forEach((function(e){var t=Y.findIndex((function(t){return e.name===t.name}));-1!==t&&(Y[t]=e),Y.push(e)}))},X=function(e,t,n){var r={state:!0,message:""};return n.some((function(e){var n,o=e.message,a=g()(e,["message"]),i=null===(n=Object.keys(a))||void 0===n?void 0:n[0],u=null==a?void 0:a[i];if(!i)return!1;var c,l=(c=i,Y.find((function(e){return e.name===c})));if(!l)return!1;var s=o||l.message;if(s="function"==typeof s?s(u):s,"function"==typeof u){var f=u(t);return r={state:f,message:f?"":s},!f}if("boolean"==typeof u&&u||-1!==["string","number"].indexOf(W()(u))){var d=l.validator(t,u);return r={state:d,message:d?"":s},!d}return!1})),r};function Q(e){var t,n,r=e.buttonTexts,a=e.buttonProps,i=void 0===a?{}:a,u=e.render,c=e.align,l=void 0===c?"center":c,d=e.direction,p=void 0===d?"horizontal":d,v=e.padding,m=void 0===v?"42px 0 24px 0":v,h=e.onReset,y=e.onSubmit,x=r||{},b=x.reset,C=x.submit,E={reset:{type:(null==i||null===(t=i.reset)||void 0===t?void 0:t.type)||"default",cb:h,text:b},submit:{type:(null==i||null===(n=i.submit)||void 0===n?void 0:n.type)||"primary",cb:y,text:C}},w=[];return Object.keys(r).forEach((function(e){var t=i[e]||{},n=(t.type,g()(t,["type"]));r[e]&&w.push(s.a.createElement(f.Button,o()({type:E[e].type,key:e,onClick:E[e].cb},n),E[e].text))})),s.a.createElement("div",{style:{padding:m,textAlign:l}},s.a.createElement(f.Space,{align:l,direction:p},u?u(e,w):w))}var ee=s.a.useEffect,te=s.a.useState,ne=s.a.useImperativeHandle,re=s.a.forwardRef,oe="FORM_".concat(d());var ae=re((function(e,t){var n=e.gutter,r=void 0===n?24:n,a=e.span,u=void 0===a?12:a,l=e.labelDirection,p=void 0===l?"horizontal":l,v=e.labelWidth,h=void 0===v?120:v,g=e.validateOnChange,y=void 0===g||g,x=e.schema,b=e.onChange,C=e.onSubmit,E=e.onReset,w=e.data,_=void 0===w?{}:w,O=e.submitter,P=e.spinning,S=void 0!==P&&P,k=te(_),F=c()(k,2),L=F[0],j=F[1],A=te([]),M=c()(A,2),N=M[0],z=M[1];ee((function(){return function(e,t,n){var r=m(n);if("horizontal"===t){var o=document.createElement("style");o.id=r;var a="#".concat(n," .ant-form-item {display: flex; width: 100%; flex-flow: row;}\n");a+="#".concat(n," .ant-form-item-label { width: ").concat(e,"px; }\n"),a+="#".concat(n," .ant-form-item-control {flex-grow: 1}"),o.innerHTML=a,document.head.appendChild(o)}}(h,p,oe),function(){m(oe)}}),[p,h]),ee((function(){j(_)}),[_]),ee((function(){var e=[];x.forEach((function(t){t.forEach((function(t){t.name&&(e.push({state:!0,message:"",name:t.name,type:t.type,rules:t.rules}),L[t.name]=L[t.name]||void 0)}))})),z(e)}),[x]);var I=function(e){var t=N.find((function(t){return t.name===e}));return{state:!t||t.state,message:(null==t?void 0:t.message)||""}},R=function(){return Object.keys(L).forEach((function(e){var t=N.find((function(t){return t.name===e}));T(e,L[e],null==t?void 0:t.type)})),-1===Object.keys(N).findIndex((function(e){return!1===N[e].state}))},T=function(e,t,n){var r=N.find((function(t){return t.name===e}));if(r&&r.rules){var o=t;"upload"===n&&(o=(t||[]).filter((function(e){return"done"===e.status})));var a=X(0,o,r.rules);r.message=a.message,r.state=a.state,z(i()(N))}},G=function(e,t,n){var r;y&&T(e,t),L[e]=t,j((r=L,JSON.parse(JSON.stringify(r)))),b&&b(e,t,n)},q="vertical"===p;ne(t,(function(){return{callSubmit:function(){return V()},callValidate:function(){return R()},getData:function(){return L}}}));var V=function(e){return e&&e.stopPropagation(),!!R()&&(C&&C(L),!1)};return s.a.createElement(f.Spin,{spinning:S},s.a.createElement("form",{id:oe,onSubmit:V},x.map((function(e,t){var n="row_".concat(t);return s.a.createElement(f.Row,{key:n,gutter:r},e.map((function(e){return s.a.createElement(K,{key:e.name||d(),item:e,span:e.span||u,isVertical:q,value:(n=e.name,n?L[n]||void 0:null),onFieldChange:G,onKeyPress:(t=e.type,function(e){"textarea"!==t&&13===e.charCode&&V()}),validate:I(e.name)});var t,n})))})),O&&s.a.createElement(Q,o()({},O,{onReset:E,onSubmit:V}))))}))}])}));